<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tubes Cursor Component</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
            color: white;
        }
    </style>
</head>

<body class="font-[Montserrat]">

    <!-- Main Container -->
    <div id="main-container" class="h-screen w-screen bg-black overflow-hidden cursor-pointer relative">

        <!-- Canvas -->
        <canvas id="tubes-canvas" class="fixed inset-0 z-0 w-full h-full"></canvas>

        <!-- Hero Content -->
        <div class="relative h-full flex flex-col items-center justify-center gap-2.5 z-10 pointer-events-none">
            <h1
                class="m-0 p-0 text-white text-[80px] font-bold uppercase leading-none select-none drop-shadow-[0_0_20px_rgba(0,0,0,1)]">
                Tubes
            </h1>
            <h2
                class="m-0 p-0 text-white text-[60px] font-medium uppercase leading-none select-none drop-shadow-[0_0_20px_rgba(0,0,0,1)]">
                Cursor
            </h2>
            <p class="m-0 p-0 text-white text-xl leading-none select-none drop-shadow-[0_0_20px_rgba(0,0,0,1)] mt-4">
                Click to change colors
            </p>
        </div>
    </div>

    <!-- Logic -->
    <script type="module">
        // Helper to generate random colors
        const randomColors = (count) => {
            return new Array(count)
                .fill(0)
                .map(() => "#" + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0'));
        };

        const canvas = document.getElementById('tubes-canvas');
        const container = document.getElementById('main-container');
        let app = null;

        // Dynamic specific import logic used in the prompt
        // We'll use the CDN module import

        // Wait for DOM to be fully ready/painted
        setTimeout(() => {
            import('https://cdn.jsdelivr.net/npm/threejs-components@0.0.19/build/cursors/tubes1.min.js')
                .then(module => {
                    const TubesCursor = module.default;
                    if (canvas) {
                        app = TubesCursor(canvas, {
                            tubes: {
                                colors: ["#5e72e4", "#8965e0", "#f5365c"],
                                lights: {
                                    intensity: 200,
                                    colors: ["#21d4fd", "#b721ff", "#f4d03f", "#11cdef"]
                                }
                            }
                        });

                        // Handle Resize manually if needed (library usually handles it on window resize, but good to ensure)
                        // app.resize() might exist.
                    }
                })
                .catch(err => console.error("Failed to load TubesCursor module:", err));
        }, 100);

        // Click Handler
        container.addEventListener('click', () => {
            if (app) {
                const newTubeColors = randomColors(3);
                const newLightColors = randomColors(4);

                // Update colors
                if (app.tubes && app.tubes.setColors) app.tubes.setColors(newTubeColors);
                if (app.tubes && app.tubes.setLightsColors) app.tubes.setLightsColors(newLightColors);
            }
        });

        // Cleanup
        window.addEventListener('beforeunload', () => {
            if (app && typeof app.dispose === 'function') {
                app.dispose();
            }
        });

    </script>
</body>

</html>